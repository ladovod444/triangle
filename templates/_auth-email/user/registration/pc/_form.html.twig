{% trans_default_domain 'user.reg' %}

{{ form_start(form, { attr: { class: 'shadow d-flex flex-column align-items-end p-5 rounded-3 w-100' } }) }}



	<div class="d-flex justify-content-between w-100 mb-4 align-items-end small ps-3">
		<h3 class="text-uppercase h4 fw-bold mb-0">
			{{ 'user.page'|trans }}
		</h3>
		
		<a href="{{ path('auth-email:user.login') }}" class="small py-1"
				aria-label="{{ 'user.link.breadcrumb.page'|trans({}, 'user.login') }}"
				title="{{ 'user.link.breadcrumb.page'|trans({}, 'user.login') }}"
		>
			{{ 'user.link.breadcrumb.page'|trans({}, 'user.login') }}
		</a>
	
	</div>
	
	<div class="d-flex flex-column gap-2 w-100 small ps-3">
		
		<div class="w-100 d-flex flex-column">
			{{ form_row(form.email, {
				label: 'user.form.label.email'|trans
			}) }}
		</div>
		
		<div class="w-100 d-flex flex-column">

			<div class="mb-2" data-password-meter="true">

				{{ form_label(form.passwordPlain, 'user.form.label.password'|trans) }}

				{{ form_widget(form.passwordPlain, { label: false, attr: { autocomplete : "off" } }) }}


				{#{{ form_row(form.passwordPlain, {
					label: 'user.form.label.password'|trans,
					help: 'user.form.help.password'|trans
				}) }}#}

				<div class="position-relative">

									<span class="btn btn-link text-dark position-absolute end-0 bottom-0"
										  data-password-meter-control="visibility">

                                        <i class="bi bi-eye-slash">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20"
												 fill="currentColor"
												 class="bi bi-eye-slash" viewBox="0 0 16 16">
                                                <path d="M13.359 11.238C15.06 9.72 16 8 16 8s-3-5.5-8-5.5a7.028 7.028 0 0 0-2.79.588l.77.771A5.944 5.944 0 0 1 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13.134 13.134 0 0 1 14.828 8c-.058.087-.122.183-.195.288-.335.48-.83 1.12-1.465 1.755-.165.165-.337.328-.517.486l.708.709z"/>
                                                <path d="M11.297 9.176a3.5 3.5 0 0 0-4.474-4.474l.823.823a2.5 2.5 0 0 1 2.829 2.829l.822.822zm-2.943 1.299.822.822a3.5 3.5 0 0 1-4.474-4.474l.823.823a2.5 2.5 0 0 0 2.829 2.829z"/>
                                                <path d="M3.35 5.47c-.18.16-.353.322-.518.487A13.134 13.134 0 0 0 1.172 8l.195.288c.335.48.83 1.12 1.465 1.755C4.121 11.332 5.881 12.5 8 12.5c.716 0 1.39-.133 2.02-.36l.77.772A7.029 7.029 0 0 1 8 13.5C3 13.5 0 8 0 8s.939-1.721 2.641-3.238l.708.709zm10.296 8.884-12-12 .708-.708 12 12-.708.708z"/>
                                            </svg>
                                        </i>

                                        <i class="bi bi-eye d-none">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20"
												 fill="currentColor"
												 class="bi bi-eye" viewBox="0 0 16 16">
                                                <path d="M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8zM1.173 8a13.133 13.133 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13.133 13.133 0 0 1 14.828 8c-.058.087-.122.183-.195.288-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5c-2.12 0-3.879-1.168-5.168-2.457A13.134 13.134 0 0 1 1.172 8z"/>
                                                <path d="M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5zM4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0z"/>
                                            </svg>
                                        </i>

								</span>


						<span class="btn btn-link text-dark position-absolute end-0 bottom-0 me-4"
							  data-password-meter-generator="true"
							  data-bs-toggle="tooltip"
							  data-bs-placement="bottom"
							  title="Сгенерировать пароль"
						>
                                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20"
										 fill="none"
										 viewBox="0 0 22 25"
									>
                                        <g stroke="currentColor" stroke-width="1.2">
                                            <path d="m9 5.30423c-2.66424 1.2983-4.5 4.03265-4.5 7.19577 0 4.4183 3.58172 8 8 8 4.4183 0 8-3.5817 8-8 0-4.41828-3.5817-8-8-8v10"/>
                                            <path d="m16 11-3.5 3.5-3.5-3.5"/>
                                        </g>
                                    </svg>
                                </span>

				</div>

				<div class="d-flex justify-content-between gap-1 align-items-center mb-3 mt-2"
					 data-password-meter-control="highlight">
					<div class="w-100 bg-danger rounded opacity-75" style="height: 3px"></div>
					<div class="w-100 bg-light rounded opacity-75" style="height: 3px"></div>
					<div class="w-100 bg-light rounded opacity-75" style="height: 3px"></div>
					<div class="w-100 bg-light rounded opacity-75" style="height: 3px"></div>
					<div class="w-100 bg-light rounded opacity-75" style="height: 3px"></div>

				</div>
			</div>
			<div class="text-muted small">
				{{ 'user.form.help.password'|trans }}
			</div>

		</div>
		
		<div class="form-control-lg d-flex p-0">
			
			{{ form_widget(form.agreeTerms, { label: false }) }}
			
			<label class="form-check-label required small" for="{{ form.agreeTerms.vars.id }}">
                <span class="small">
                    {# Согласен с #}
                    <span class="small ">{{ 'user.form.agreterms.label'|trans }}</span>
                    {# Пользовательское соглашение #}
                    <a href="{{ path('auth-email:user.agree.terms') }}" class="small"
							aria-label="{{ 'user.page'|trans({}, 'agree.terms') }}"
							title="{{ 'user.page'|trans({}, 'agree.terms') }}"
					>
                        {{ 'user.form.agreterms.link'|trans({}, 'agree.terms') }}
                    </a>
                </span>
			</label>
		</div>

		<div class="d-flex gap-3 align-items-center">
			<div class="w-50 lazy bg-contain" data-bg="/captcha/image" style="height: 75px;">
			</div>
			<div class="w-50">{{ form_widget(form.code, { label: false, attr: { autocomplete : 'off', placeholder: 'Проверочный код' }  }) }}
			</div>
		</div>

		<div class="w-100">


			
			{{ form_row(form.registration, {
				label: '<span>'~ 'user.btn.register'|trans() ~'</span>
				<span id="'~form.registration.vars.id~'-progress" class="spinner-border spinner-border-sm d-none"></span>
			',
				attr: { class : 'btn btn-lg btn-danger w-100 rounded-3 text-uppercase fw-bolder' }
			}) }}
		
		</div>
	
	</div>
	
	{{ form_end(form) }}


