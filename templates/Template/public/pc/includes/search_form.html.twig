{% trans_default_domain 'search' %}

<div class="w-100 d-flex position-relative">

    {{ form_start(baks_search_form) }}

    {{ form_widget(baks_search_form.query, { attr: {
        class : 'border-light w-100 form-control',
        style : 'min-width: 100%; box-shadow: none;',
        placeholder: 'Поиск по каталогу',
        autocomplete: "off"
    } }) }}

    <div>
        <button class="btn position-absolute top-0 end-0" type="submit" aria-label="Поиск по каталогу">
            <svg id="search_icon" class="bi bi-search" xmlns="http://www.w3.org/2000/svg" width="18" height="18"
                 fill="lightgray" viewBox="0 0 16 16">
                <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001q.044    .06.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1 1 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0"></path>
            </svg>
        </button>
    </div>

    <input type="hidden" name="token" value="{{ csrf_token('search') }}"/>

    {# Спиннер - должен находится внутри формы #}
    <span id="search_spiner" class="spinner-border spinner-border-sm text-secondary d-none" role="status"
          style="position: absolute; right: 0.75rem; top: 30%;">

        <span class=visually-hidden>{{ 'search_results.loading_text'|trans }}</span>
    </span>

    {{ form_end(baks_search_form) }}

</div>

{# Выпадающий список с результатами поиска #}
<section class="dropdown mt-1 w-100" id="search_results_dropdown">
    <h3 class="d-none">{{ 'search_results.title'|trans }}</h3>
    <ul id="search_result" class="dropdown-menu border-light w-100 p-1"></ul>
</section>

