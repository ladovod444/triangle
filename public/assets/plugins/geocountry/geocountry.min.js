let yamapsLang={ru:{errorCity:"Город не найдена. Возможно, вы имели в виду "},en:{errorCity:"Not found City. Perhaps you meant "}};function getSelectedOption(sel){var opt;for(var i=0,len=sel.options.length;i<len;i++){opt=sel.options[i];if(opt.selected===true){break}}return opt}function readGeoMaps($idCity,$idCityHelp){let $profileCity=document.getElementById($idCity);if(!$profileCity){console.log("не найдено поле "+$idCity);return false}function getCountry(){console.log(ymaps);return;let $city=this.value;let $textCountry;if($city.length>2){$textCountry="Россия";var myGeocoder=ymaps.geocode($city);myGeocoder.then(function(res){let $res=res.geoObjects.get(0).properties.getAll();let $helpCountry=document.getElementById($idCityHelp);$helpCountry.classList.remove("text-muted");if($res.name!==$city){$helpCountry.style.color="red";$helpCountry.innerText=yamapsLang[$lang].errorCity+' "'+$res.text+'"'}else{$helpCountry.style.color="green";$helpCountry.innerText=$res.text}let span=document.createElement("SPAN");span.className="text-primary cursor-pointer ps-3";let span_text=document.createTextNode(" Применить");span.append(span_text);$helpCountry.appendChild(span);span.addEventListener("click",function(event){$profileCity.value=$res.text;$helpCountry.innerText=""})},function(err){})}}$profileCity.addEventListener("input",getCountry.debounce(500))}