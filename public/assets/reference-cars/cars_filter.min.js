limit=100;setTimeout(function initCarFilter(){cars_filter_form_brand=document.getElementById("cars_filter_form_brand");cars_filter_form_model=document.getElementById("cars_filter_form_model");if(cars_filter_form_brand){cars_filter_form_brand.addEventListener("change",changeObjectBrand,false);if(cars_filter_form_model.tagName==="SELECT"){cars_filter_form_model.addEventListener("change",changeObjectModel,false)}return}if(limit>1e3){return}setTimeout(initCarFilter,limit++)},100);function changeObjectBrand(){let replaceId="cars_filter_form_model";const requestModalName=new XMLHttpRequest;requestModalName.responseType="document";let carFilterForm=document.forms.cars_filter_form;let formData=new FormData;formData.append(this.getAttribute("name"),this.value);requestModalName.open(carFilterForm.getAttribute("method"),carFilterForm.getAttribute("action"),true);requestModalName.setRequestHeader("X-Requested-With","XMLHttpRequest");requestModalName.addEventListener("readystatechange",function(){if(requestModalName.readyState===4&&requestModalName.status===200){requestModalName.response.getElementById("cars_filter_form_model")?.classList.remove("is-invalid");requestModalName.response.getElementById("cars_filter_form_modification")?.classList.remove("is-invalid");let result=requestModalName.response.getElementById(replaceId);document.getElementById(replaceId).replaceWith(result);let select2=document.getElementById(replaceId+"_select2");if(select2){select2.remove()}let replacer=document.getElementById(replaceId);if(result.dataset.select==="select2"&&replacer.tagName==="SELECT"){new NiceSelect(replacer,{searchable:true,id:"select2-"+replaceId});let offerChange=document.getElementById(replaceId);if(offerChange){offerChange.addEventListener("change",changeObjectModel,false)}}else{replacer.addEventListener("change",changeObjectModel,false)}let resetId="cars_filter_form_modification";let reset=requestModalName.response.getElementById(resetId);document.getElementById(resetId).replaceWith(reset);let reset2=document.getElementById(resetId+"_select2");if(reset2){reset2.remove()}}return false});requestModalName.send(formData)}function changeObjectModel(){let replaceId="cars_filter_form_modification";const requestModalName=new XMLHttpRequest;requestModalName.responseType="document";let carFilterForm=document.forms.cars_filter_form;let formData=new FormData;formData.append(this.getAttribute("name"),this.value);requestModalName.open(carFilterForm.getAttribute("method"),carFilterForm.getAttribute("action"),true);requestModalName.setRequestHeader("X-Requested-With","XMLHttpRequest");requestModalName.addEventListener("readystatechange",function(){if(requestModalName.readyState===4&&requestModalName.status===200){requestModalName.response.getElementById("cars_filter_form_modification")?.classList.remove("is-invalid");let result=requestModalName.response.getElementById(replaceId);document.getElementById(replaceId).replaceWith(result);let select2=document.getElementById(replaceId+"_select2");if(select2){select2.remove()}let replacer=document.getElementById(replaceId);if(result.dataset.select==="select2"&&replacer.tagName==="SELECT"){new NiceSelect(replacer,{searchable:true,id:"select2-"+replaceId});let offerChange=document.getElementById(replaceId)}}return false});requestModalName.send(formData)}