var limit_mBdrnGXdN=1e3;setTimeout(function init_wUgQTMHU(){var object_product=document.getElementById("product_sign_form_code_product");if(object_product){object_product.addEventListener("change",changeObjectProduct,false);let purchaseForm=document.forms.product_sign_form;let forms=object_product.closest("form");document.getElementById("product_sign_form_product_sign").addEventListener("click",function(event){if(event.key!=="Enter"){submitModalForm(forms)}return false});return}if(limit_mBdrnGXdN>1e3){return}limit_mBdrnGXdN=limit_mBdrnGXdN*2;setTimeout(init_wUgQTMHU,limit_mBdrnGXdN)},100);function changeObjectProduct(){let replaceId="product_sign_form_code_offer";const requestModalName=new XMLHttpRequest;requestModalName.responseType="document";let purchaseForm=document.forms.product_sign_form;let formData=new FormData;formData.append(this.getAttribute("name"),this.value);requestModalName.open(purchaseForm.getAttribute("method"),purchaseForm.getAttribute("action"),true);requestModalName.setRequestHeader("X-Requested-With","XMLHttpRequest");requestModalName.addEventListener("readystatechange",function(){if(requestModalName.readyState===4&&requestModalName.status===200){let result=requestModalName.response.getElementById("offer");document.getElementById("offer").replaceWith(result);let replacer=document.getElementById(replaceId);if(replacer.tagName==="SELECT"){new NiceSelect(replacer,{searchable:true,id:"select2-"+replaceId});let offerChange=document.getElementById("product_sign_form_code_offer");if(offerChange){offerChange.addEventListener("change",changeObjectOffer,false);let focus=document.getElementById(replaceId+"_select2");focus?focus.click():null}}}return false});requestModalName.send(formData)}function changeObjectOffer(){let replaceId="product_sign_form_code_variation";const requestModalName=new XMLHttpRequest;requestModalName.responseType="document";let purchaseForm=document.forms.product_sign_form;let formData=new FormData;formData.append(this.getAttribute("name"),this.value);requestModalName.open(purchaseForm.getAttribute("method"),purchaseForm.getAttribute("action"),true);requestModalName.setRequestHeader("X-Requested-With","XMLHttpRequest");requestModalName.addEventListener("readystatechange",function(){if(requestModalName.readyState===4&&requestModalName.status===200){let result=requestModalName.response.getElementById("variation");document.getElementById("variation").replaceWith(result);let replacer=document.getElementById(replaceId);let select2=document.getElementById(replaceId+"_select2");if(select2){select2.remove()}if(replacer.tagName==="SELECT"){new NiceSelect(document.getElementById(replaceId),{searchable:true,id:"select2-"+replaceId});let offerVariation=document.getElementById("product_sign_form_code_variation");if(offerVariation){offerVariation.addEventListener("change",changeObjectVariation,false)}let focus=document.getElementById(replaceId+"_select2");focus?focus.click():null}}return false});requestModalName.send(formData)}function changeObjectVariation(){let replaceId="product_sign_form_code_modification";const requestModalName=new XMLHttpRequest;requestModalName.responseType="document";let purchaseForm=document.forms.product_sign_form;let formData=new FormData;formData.append(this.getAttribute("name"),this.value);requestModalName.open(purchaseForm.getAttribute("method"),purchaseForm.getAttribute("action"),true);requestModalName.setRequestHeader("X-Requested-With","XMLHttpRequest");requestModalName.addEventListener("readystatechange",function(){if(requestModalName.readyState===4&&requestModalName.status===200){let result=requestModalName.response.getElementById("modification");document.getElementById("modification").replaceWith(result);let replacer=document.getElementById(replaceId);if(replacer.tagName==="SELECT"){new NiceSelect(document.getElementById(replaceId),{searchable:true,id:"select2-"+replaceId})}let focus=document.getElementById(replaceId+"_select2");focus?focus.click():null;let offerModification=document.getElementById("product_sign_form_code_modification")}return false});requestModalName.send(formData)}